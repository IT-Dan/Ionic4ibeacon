var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
import { IonicNativePlugin, cordova, checkAvailability } from '@ionic-native/core';
import { Observable } from 'rxjs';
var IBeaconOriginal = /** @class */ (function (_super) {
    __extends(IBeaconOriginal, _super);
    function IBeaconOriginal() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    IBeaconOriginal.prototype.Delegate = function () {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                var delegate = new window.cordova.plugins.locationManager.Delegate();
                delegate.didChangeAuthorizationStatus = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.didChangeAuthorizationStatus = cb;
                    });
                };
                delegate.didDetermineStateForRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.didDetermineStateForRegion = cb;
                    });
                };
                delegate.didEnterRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.didEnterRegion = cb;
                    });
                };
                delegate.didExitRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.didExitRegion = cb;
                    });
                };
                delegate.didRangeBeaconsInRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.didRangeBeaconsInRegion = cb;
                    });
                };
                delegate.didStartMonitoringForRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.didStartMonitoringForRegion = cb;
                    });
                };
                delegate.monitoringDidFailForRegionWithError = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.monitoringDidFailForRegionWithError = cb;
                    });
                };
                delegate.peripheralManagerDidStartAdvertising = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.peripheralManagerDidStartAdvertising = cb;
                    });
                };
                delegate.peripheralManagerDidUpdateState = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.peripheralManagerDidUpdateState = cb;
                    });
                };
                window.cordova.plugins.locationManager.setDelegate(delegate);
                return delegate;
            }
        })();
    };
    IBeaconOriginal.prototype.BeaconRegion = function (identifer, uuid, major, minor, notifyEntryStateOnDisplay) {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                return new window.cordova.plugins.locationManager.BeaconRegion(identifer, uuid, major, minor, notifyEntryStateOnDisplay);
            }
        })();
    };
    IBeaconOriginal.prototype.getDelegate = function () { return cordova(this, "getDelegate", {}, arguments); };
    IBeaconOriginal.prototype.setDelegate = function (delegate) { return cordova(this, "setDelegate", {}, arguments); };
    IBeaconOriginal.prototype.onDomDelegateReady = function () { return cordova(this, "onDomDelegateReady", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.isBluetoothEnabled = function () { return cordova(this, "isBluetoothEnabled", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.enableBluetooth = function () { return cordova(this, "enableBluetooth", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.disableBluetooth = function () { return cordova(this, "disableBluetooth", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.startMonitoringForRegion = function (region) { return cordova(this, "startMonitoringForRegion", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.stopMonitoringForRegion = function (region) { return cordova(this, "stopMonitoringForRegion", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.requestStateForRegion = function (region) { return cordova(this, "requestStateForRegion", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.startRangingBeaconsInRegion = function (region) { return cordova(this, "startRangingBeaconsInRegion", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.stopRangingBeaconsInRegion = function (region) { return cordova(this, "stopRangingBeaconsInRegion", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.getAuthorizationStatus = function () { return cordova(this, "getAuthorizationStatus", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.requestWhenInUseAuthorization = function () { return cordova(this, "requestWhenInUseAuthorization", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.requestAlwaysAuthorization = function () { return cordova(this, "requestAlwaysAuthorization", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.getMonitoredRegions = function () { return cordova(this, "getMonitoredRegions", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.getRangedRegions = function () { return cordova(this, "getRangedRegions", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.isRangingAvailable = function () { return cordova(this, "isRangingAvailable", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.isMonitoringAvailableForClass = function (region) { return cordova(this, "isMonitoringAvailableForClass", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.startAdvertising = function (region, measuredPower) { return cordova(this, "startAdvertising", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.stopAdvertising = function (region) { return cordova(this, "stopAdvertising", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.isAdvertisingAvailable = function () { return cordova(this, "isAdvertisingAvailable", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.isAdvertising = function () { return cordova(this, "isAdvertising", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.disableDebugLogs = function () { return cordova(this, "disableDebugLogs", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.enableDebugNotifications = function () { return cordova(this, "enableDebugNotifications", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.disableDebugNotifications = function () { return cordova(this, "disableDebugNotifications", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.enableDebugLogs = function () { return cordova(this, "enableDebugLogs", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.appendToDeviceLog = function (message) { return cordova(this, "appendToDeviceLog", { "otherPromise": true }, arguments); };
    IBeaconOriginal.pluginName = "IBeacon";
    IBeaconOriginal.plugin = "cordova-plugin-ibeacon";
    IBeaconOriginal.pluginRef = "cordova.plugins.locationManager";
    IBeaconOriginal.repo = "https://github.com/petermetz/cordova-plugin-ibeacon";
    IBeaconOriginal.platforms = ["Android", "iOS"];
    return IBeaconOriginal;
}(IonicNativePlugin));
var IBeacon = new IBeaconOriginal();
export { IBeacon };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2liZWFjb24vaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUNBLE9BQU8saURBQW9ELE1BQU0sb0JBQW9CLENBQUM7QUFDdEYsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQzs7SUFrU0wsMkJBQWlCOzs7O0lBUTVDLDBCQUFROzs7bURBQW9CO2dCQUMxQixJQUFNLFFBQVEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLFFBQVEsRUFBRSxDQUFDO2dCQUVoRSxRQUFRLENBQUMsNEJBQTRCLEdBQUcsVUFBQyxZQUFrQztvQkFDekUsT0FBTyxJQUFJLFVBQVUsQ0FDbkIsVUFBQyxRQUFhO3dCQUNaLElBQU0sRUFBRSxHQUFHLFVBQUMsSUFBeUIsSUFBSyxPQUFBLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQW5CLENBQW1CLENBQUM7d0JBQzlELE9BQU8sUUFBUSxDQUFDLDRCQUE0QixHQUFHLEVBQUUsQ0FBQztvQkFDcEQsQ0FBQyxDQUNGLENBQUM7Z0JBQ0osQ0FBQyxDQUFDO2dCQUVGLFFBQVEsQ0FBQywwQkFBMEIsR0FBRyxVQUFDLFlBQWtDO29CQUN2RSxPQUFPLElBQUksVUFBVSxDQUNuQixVQUFDLFFBQWE7d0JBQ1osSUFBTSxFQUFFLEdBQUcsVUFBQyxJQUF5QixJQUFLLE9BQUEsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBbkIsQ0FBbUIsQ0FBQzt3QkFDOUQsT0FBTyxRQUFRLENBQUMsMEJBQTBCLEdBQUcsRUFBRSxDQUFDO29CQUNsRCxDQUFDLENBQ0YsQ0FBQztnQkFDSixDQUFDLENBQUM7Z0JBRUYsUUFBUSxDQUFDLGNBQWMsR0FBRyxVQUFDLFlBQWtDO29CQUMzRCxPQUFPLElBQUksVUFBVSxDQUNuQixV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LEtBQWMsRUFDZCx5QkFBbUM7OzttREFDckI7Z0JBQ2QsT0FBTyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FDckQsU0FBUyxFQUNULElBQUksRUFDSixLQUFLLEVBQ0wsS0FBSyxFQUNMLHlCQUF5QixDQUMxQixDQUFDO2FBQ0g7OztJQU1ELDZCQUFXO0lBVVgsNkJBQVcsYUFBQyxRQUF5QjtJQXlCckMsb0NBQWtCO0lBVWxCLG9DQUFrQjtJQVdsQixpQ0FBZTtJQVdmLGtDQUFnQjtJQXNCaEIsMENBQXdCLGFBQUMsTUFBYztJQWlCdkMseUNBQXVCLGFBQUMsTUFBYztJQWdCdEMsdUNBQXFCLGFBQUMsTUFBYztJQW1CcEMsNkNBQTJCLGFBQUMsTUFBYztJQWlCMUMsNENBQTBCLGFBQUMsTUFBYztJQVN6Qyx3Q0FBc0I7SUFjdEIsK0NBQTZCO0lBVzdCLDRDQUEwQjtJQVUxQixxQ0FBbUI7SUFVbkIsa0NBQWdCO0lBVWhCLG9DQUFrQjtJQWNsQiwrQ0FBNkIsYUFBQyxNQUFjO0lBc0I1QyxrQ0FBZ0IsYUFBQyxNQUFjLEVBQUUsYUFBc0I7SUFhdkQsaUNBQWUsYUFBQyxNQUFjO0lBVTlCLHdDQUFzQjtJQVV0QiwrQkFBYTtJQVliLGtDQUFnQjtJQWFoQiwwQ0FBd0I7SUFZeEIsMkNBQXlCO0lBWXpCLGlDQUFlO0lBZWYsbUNBQWlCLGFBQUMsT0FBZTs7Ozs7O2tCQXh3Qm5DO0VBb1M2QixpQkFBaUI7U0FBakMsT0FBTyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvcmRvdmEsIENvcmRvdmFDaGVjaywgSW9uaWNOYXRpdmVQbHVnaW4sIFBsdWdpbiB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5cbmRlY2xhcmUgY29uc3QgY29yZG92YTogYW55O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJlYWNvbiB7XG4gIC8qKlxuICAgKiBUaGUgcGh5c2ljYWwgZGV2aWNlJ3MgaWRlbnRpZmllci5cbiAgICovXG4gIHV1aWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGJlYWNvbidzIG1ham9yIGlkZW50aWZpZXIgbnVtYmVyLlxuICAgKi9cbiAgbWFqb3I6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGJlYWNvbidzIG1pbm9yIGlkZW50aWZpZXIgbnVtYmVyLlxuICAgKi9cbiAgbWlub3I6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHByb3hpbWl0eSBvZiB0aGUgYmVhY29uIHJlbGF0aXZlIHRvIHRoZSBwaG9uZS5cbiAgICpcbiAgICogUG9zc2libGUgb3B0aW9ucyBhcmU6XG4gICAqIFByb3hpbWl0eUltbWVkaWF0ZVxuICAgKiBQcm94aW1pdHlOZWFyXG4gICAqIFByb3hpbWl0eUZhclxuICAgKiBQcm94aW1pdHlVbmtub3duXG4gICAqL1xuICBwcm94aW1pdHk6XG4gICAgfCAnUHJveGltaXR5SW1tZWRpYXRlJ1xuICAgIHwgJ1Byb3hpbWl0eU5lYXInXG4gICAgfCAnUHJveGltaXR5RmFyJ1xuICAgIHwgJ1Byb3hpbWl0eVVua25vd24nO1xuXG4gIC8qKlxuICAgKiBUcmFuc21pc3Npb24gUG93ZXIgb2YgdGhlIGJlYWNvbi4gQSBjb25zdGFudCBlbWl0dGVkIGJ5IHRoZSBiZWFjb24gd2hpY2ggaW5kaWNhdGVzIHdoYXQncyB0aGUgZXhwZWN0ZWQgUlNTSSBhdCBhIGRpc3RhbmNlIG9mIDEgbWV0ZXIgdG8gdGhlIGJlYWNvbi5cbiAgICovXG4gIHR4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFJlY2VpdmVkIFNpZ25hbCBTdHJlbmd0aCBJbmRpY2F0b3IuIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmVhY29uJ3Mgc2lnbmFsIHdoZW4gaXQgcmVhY2hlcyB0aGUgZGV2aWNlLlxuICAgKiAgUlNTSSByYW5nZXMgZnJvbSBhcHJveCAtMjYgKGEgZmV3IGluY2hlcykgdG8gLTEwMCAoNDAtNTAgbSBkaXN0YW5jZSkuXG4gICAqL1xuICByc3NpOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBhY2N1cmFjeSBvZiB0aGUgcmFuZ2luZy5cbiAgICovXG4gIGFjY3VyYWN5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmVhY29uUmVnaW9uIHtcbiAgLyoqXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgcmVnaW9uLlxuICAgKi9cbiAgaWRlbnRpZmllcjogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdGhlIGJlYWNvbiBpZGVudGlmaWVyIHRoZSBkZXZpY2Ugd2lsbCBcIndhdGNoXCIgZm9yLiBNYW55IGJlYWNvbnMgY2FuIHNoYXJlIHRoZSBzYW1lIHV1aWQuXG4gICAqL1xuICB1dWlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBiZWFjb24ncyBtYWpvciBpZGVudGlmaWVyIG51bWJlci4gT3B0aW9uYWwsIG9mIG5vdGhpbmcgaXMgc3VwcGxpZWRcbiAgICogdGhlIHBsdWdpbiB3aWxsIHRyZWF0IGl0IGFzIGEgd2lsZGNhcmQuXG4gICAqL1xuICBtYWpvcj86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGJlYWNvbidzIG1pbm9yIGlkZW50aWZpZXIgbnVtYmVyLiBPcHRpb25hbCwgb2Ygbm90aGluZyBpcyBzdXBwbGllZFxuICAgKiB0aGUgcGx1Z2luIHdpbGwgdHJlYXQgaXQgYXMgYSB3aWxkY2FyZC5cbiAgICovXG4gIG1pbm9yPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gdHJ1ZSB0aGUgZGV2aWNlIHdpbGwgc2NhbiBmb3IgYmVhY29ucyBhbmQgZGV0ZXJtaW5lIHJlZ2lvbiBzdGF0ZSBhbnl0aW1lXG4gICAqIHRoZSBkZXZpY2UncyBzY3JlZW4gaXMgdHVybmVkIG9uIG9yIG9mZi4gVXNlZnVsIGZvciBkZWJ1Z2dpbmcuXG4gICAqL1xuICBub3RpZnlFbnRyeVN0YXRlT25EaXNwbGF5PzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaXJjdWxhclJlZ2lvbiB7XG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIHJlZ2lvbi5cbiAgICovXG4gIGlkZW50aWZpZXI6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGxhdGl0dWRlIG9mIHRoaXMgcmVnaW9uLlxuICAgKi9cbiAgbGF0aXR1ZGU6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGxvbmdpdHVkZSBvZiB0aGlzIHJlZ2lvbi5cbiAgICovXG4gIGxvbmdpdHVkZTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgcmFkaXVzIG9mIHRoZSBnZW9mZW5jZSBmb3IgdGhpcyByZWdpb24uXG4gICAqL1xuICByYWRpdXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgUmVnaW9uID0gQmVhY29uUmVnaW9uIHwgQ2lyY3VsYXJSZWdpb247XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUJlYWNvblBsdWdpblJlc3VsdCB7XG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZGVsZWdhdGUgZnVuY3Rpb24gdGhhdCBwcm9kdWNlZCB0aGUgUGx1Z2luUmVzdWx0IG9iamVjdC5cbiAgICovXG4gIGV2ZW50VHlwZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVnaW9uIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudC5cbiAgICovXG4gIHJlZ2lvbjogUmVnaW9uO1xuXG4gIC8qKlxuICAgKiBBbiBhcnJheSBvZiBiZWFjb24gb2JqZWN0c1xuICAgKi9cbiAgYmVhY29uczogQmVhY29uW107XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIGxvY2F0aW9uIHBlcm1pc3Npb24gZm9yIGlPUy5cbiAgICovXG4gIGF1dGhvcml6YXRpb25TdGF0dXM6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHN0YXRlIG9mIHRoZSBwaG9uZSBpbiByZWxhdGlvbiB0byB0aGUgcmVnaW9uLiBJbnNpZGUvb3V0c2lkZSBmb3IgZXhhbXBsZS5cbiAgICovXG4gIHN0YXRlOiAnQ0xSZWdpb25TdGF0ZUluc2lkZScgfCAnQ0xSZWdpb25TdGF0ZU91dHNpZGUnO1xuXG4gIC8qKlxuICAgKiBFcnJvciBtZXNzYWdlLCB1c2VkIG9ubHkgd2l0aCBtb25pdG9yaW5nRGlkRmFpbEZvclJlZ2lvbldpdGhFcnJvciBkZWxlZ2F0ZS5cbiAgICovXG4gIGVycm9yOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUJlYWNvbkRlbGVnYXRlIHtcbiAgLyoqXG4gICAqIEFuIG9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGxvY2F0aW9uIHBlcm1pc3Npb24gYXV0aG9yaXphdGlvbiBzdGF0dXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPHN0cmluZz59IFJldHVybnMgYSBzdHJpbmcuXG4gICAqL1xuICBkaWRDaGFuZ2VBdXRob3JpemF0aW9uU3RhdHVzKCk6IE9ic2VydmFibGU8c3RyaW5nPjtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBldmVudCBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcbiAgICogd2hlbiB0aGUgbmF0aXZlIGxheWVyIGlzIGFibGUgdG8gZGV0ZXJtaW5lIHRoZSBkZXZpY2UncyBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBldmVudCBpcyBjYWxsZWQgd2hlbiB0aGUgcGhvbmUgYmVnaW5zIHN0YXJ0cyBtb25pdG9yaW5nLFxuICAgKiB3aGVuIHJlcXVlc3RTdGF0ZUZvclJlZ2lvbiBpcyBjYWxsZWQsIGV0Yy5cbiAgICpcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD59IFJldHVybnMgYSBJQmVhY29uUGx1Z2luUmVzdWx0IG9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBldmVudCwgcmVnaW9uLCBhbmQgYmVhY29uKHMpLlxuICAgKi9cbiAgZGlkRGV0ZXJtaW5lU3RhdGVGb3JSZWdpb24oKTogT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PjtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBldmVudCBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcbiAgICogd2hlbiB0aGUgcGhvbmUgZW50ZXJzIGEgcmVnaW9uIHRoYXQgaXQgd2FzIGFza2VkIHRvIG1vbml0b3IuXG4gICAqXG4gICAqIElmIHRoZSB1c2VyIGhhcyBnaXZlbiB0aGUgYXBwIEFsd2F5cy1Mb2NhdGlvbiBwZXJtaXNzaW9uLCB0aGlzIGZ1bmN0aW9uXG4gICAqICB3aWxsIGJlIGNhbGxlZCBldmVuIHdoZW4gdGhlIGFwcCBpcyBub3QgcnVubmluZyBvbiBpT1MuXG4gICAqIFRoZSBhcHAgd2lsbCBydW4gc2lsZW50bHkgaW4gdGhlIGJhY2tncm91bmQgZm9yIGEgc21hbGwgYW1vdW50IG9mIHRpbWUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cbiAgICovXG4gIGRpZEVudGVyUmVnaW9uKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgZXZlbnQgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXG4gICAqIHdoZW4gdGhlIHBob25lIGV4aXRzIGEgcmVnaW9uIHRoYXQgaXQgd2FzIGFza2VkIHRvIG1vbml0b3IuXG4gICAqXG4gICAqIElmIHRoZSB1c2VyIGhhcyBnaXZlbiB0aGUgYXBwIEFsd2F5cy1Mb2NhdGlvbiBwZXJtaXNzaW9uLCB0aGlzIGZ1bmN0aW9uXG4gICAqICB3aWxsIGJlIGNhbGxlZCBldmVuIHdoZW4gdGhlIGFwcCBpcyBub3QgcnVubmluZyBvbiBpT1MuXG4gICAqIFRoZSBhcHAgd2lsbCBydW4gc2lsZW50bHkgaW4gdGhlIGJhY2tncm91bmQgZm9yIGEgc21hbGwgYW1vdW50IG9mIHRpbWUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cbiAgICovXG4gIGRpZEV4aXRSZWdpb24oKTogT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PjtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBldmVudCBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcbiAgICogIGVhY2ggdGltZSB0aGF0IHRoZSBkZXZpY2UgcmFuZ2VzIGJlYWNvbnMuIE1vZGVybiBBbmRyb2lkIGFuZCBpT1MgZGV2aWNlcyByYW5nZVxuICAgKiBhcHJveGltYXRlbHkgb25jZSBwZXIgc2Vjb25kLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIElCZWFjb25QbHVnaW5SZXN1bHQgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV2ZW50LCByZWdpb24sIGFuZCBiZWFjb24ocykuXG4gICAqL1xuICBkaWRSYW5nZUJlYWNvbnNJblJlZ2lvbigpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xuICAgKiAgd2hlbiB0aGUgZGV2aWNlIGJlZ2lucyBtb25pdG9yaW5nIGEgcmVnaW9uLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIElCZWFjb25QbHVnaW5SZXN1bHQgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV2ZW50LCByZWdpb24sIGFuZCBiZWFjb24ocykuXG4gICAqL1xuICBkaWRTdGFydE1vbml0b3JpbmdGb3JSZWdpb24oKTogT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PjtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBldmVudCBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcbiAgICogIHdoZW4gdGhlIGRldmljZSBmYWlscyB0byBtb25pdG9yIGEgcmVnaW9uLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIElCZWFjb25QbHVnaW5SZXN1bHQgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV2ZW50LCByZWdpb24sIGFuZCBiZWFjb24ocykuXG4gICAqL1xuICBtb25pdG9yaW5nRGlkRmFpbEZvclJlZ2lvbldpdGhFcnJvcigpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xuICAgKiAgd2hlbiB0aGUgZGV2aWNlIGJlZ2lucyBhZHZlcnRpc2luZyBhcyBhbiBpQmVhY29uLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIElCZWFjb25QbHVnaW5SZXN1bHQgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV2ZW50LCByZWdpb24sIGFuZCBiZWFjb24ocykuXG4gICAqL1xuICBwZXJpcGhlcmFsTWFuYWdlckRpZFN0YXJ0QWR2ZXJ0aXNpbmcoKTogT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PjtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBldmVudCBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcbiAgICogd2hlbiB0aGUgc3RhdGUgb2YgdGhlIHBlcmlwaGVyYWwgbWFuYWdlcidzIHN0YXRlIHVwZGF0ZXMuXG4gICAqXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cbiAgICovXG4gIHBlcmlwaGVyYWxNYW5hZ2VyRGlkVXBkYXRlU3RhdGUoKTogT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pjtcbn1cblxuLyoqXG4gKiBAbmFtZSBJQmVhY29uXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgcGx1Z2luIHByb3ZpZGVzIGZ1bmN0aW9ucyBmb3Igd29ya2luZyB3aXRoIGlCZWFjb25zLlxuICpcbiAqICBUaGUgcGx1Z2luJ3MgQVBJIGNsb3NlbHkgbWltaWNzIHRoZSBvbmUgZXhwb3NlZCB0aHJvdWdoIHRoZSBbQ0xMb2NhdGlvbk1hbmFnZXJdKGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L2lvcy9kb2N1bWVudGF0aW9uL0NvcmVMb2NhdGlvbi9SZWZlcmVuY2UvQ0xMb2NhdGlvbk1hbmFnZXJfQ2xhc3MvaW5kZXguaHRtbCkgaW50cm9kdWNlZCBpbiBpT1MgNy5cbiAqXG4gKiBAdXNhZ2VcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBJQmVhY29uIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9pYmVhY29uL25neCc7XG4gKlxuICogY29uc3RydWN0b3IocHJpdmF0ZSBpYmVhY29uOiBJQmVhY29uKSB7IH1cbiAqXG4gKiAuLi5cbiAqXG4gKlxuICogLy8gUmVxdWVzdCBwZXJtaXNzaW9uIHRvIHVzZSBsb2NhdGlvbiBvbiBpT1NcbiAqIHRoaXMuaWJlYWNvbi5yZXF1ZXN0QWx3YXlzQXV0aG9yaXphdGlvbigpO1xuICogLy8gY3JlYXRlIGEgbmV3IGRlbGVnYXRlIGFuZCByZWdpc3RlciBpdCB3aXRoIHRoZSBuYXRpdmUgbGF5ZXJcbiAqIGxldCBkZWxlZ2F0ZSA9IHRoaXMuaWJlYWNvbi5EZWxlZ2F0ZSgpO1xuICpcbiAqIC8vIFN1YnNjcmliZSB0byBzb21lIG9mIHRoZSBkZWxlZ2F0ZSdzIGV2ZW50IGhhbmRsZXJzXG4gKiBkZWxlZ2F0ZS5kaWRSYW5nZUJlYWNvbnNJblJlZ2lvbigpXG4gKiAgIC5zdWJzY3JpYmUoXG4gKiAgICAgZGF0YSA9PiBjb25zb2xlLmxvZygnZGlkUmFuZ2VCZWFjb25zSW5SZWdpb246ICcsIGRhdGEpLFxuICogICAgIGVycm9yID0+IGNvbnNvbGUuZXJyb3IoKVxuICogICApO1xuICogZGVsZWdhdGUuZGlkU3RhcnRNb25pdG9yaW5nRm9yUmVnaW9uKClcbiAqICAgLnN1YnNjcmliZShcbiAqICAgICBkYXRhID0+IGNvbnNvbGUubG9nKCdkaWRTdGFydE1vbml0b3JpbmdGb3JSZWdpb246ICcsIGRhdGEpLFxuICogICAgIGVycm9yID0+IGNvbnNvbGUuZXJyb3IoKVxuICogICApO1xuICogZGVsZWdhdGUuZGlkRW50ZXJSZWdpb24oKVxuICogICAuc3Vic2NyaWJlKFxuICogICAgIGRhdGEgPT4ge1xuICogICAgICAgY29uc29sZS5sb2coJ2RpZEVudGVyUmVnaW9uOiAnLCBkYXRhKTtcbiAqICAgICB9XG4gKiAgICk7XG4gKlxuICogbGV0IGJlYWNvblJlZ2lvbiA9IHRoaXMuaWJlYWNvbi5CZWFjb25SZWdpb24oJ2Rlc2tCZWFjb24nLCdGNzgyNkRBNi1BU0RGLUFTREYtODAyNC1CQzVCNzFFMDg5M0UnKTtcbiAqXG4gKiB0aGlzLmliZWFjb24uc3RhcnRNb25pdG9yaW5nRm9yUmVnaW9uKGJlYWNvblJlZ2lvbilcbiAqICAgLnRoZW4oXG4gKiAgICAgKCkgPT4gY29uc29sZS5sb2coJ05hdGl2ZSBsYXllciByZWNlaXZlZCB0aGUgcmVxdWVzdCB0byBtb25pdG9yaW5nJyksXG4gKiAgICAgZXJyb3IgPT4gY29uc29sZS5lcnJvcignTmF0aXZlIGxheWVyIGZhaWxlZCB0byBiZWdpbiBtb25pdG9yaW5nOiAnLCBlcnJvcilcbiAqICAgKTtcbiAqIGBgYFxuICogQGludGVyZmFjZXNcbiAqIEJlYWNvblxuICogQmVhY29uUmVnaW9uXG4gKiBDaXJjdWxhclJlZ2lvblxuICogSUJlYWNvblBsdWdpblJlc3VsdFxuICogSUJlYWNvbkRlbGVnYXRlXG4gKlxuICovXG5AUGx1Z2luKHtcbiAgcGx1Z2luTmFtZTogJ0lCZWFjb24nLFxuICBwbHVnaW46ICdjb3Jkb3ZhLXBsdWdpbi1pYmVhY29uJyxcbiAgcGx1Z2luUmVmOiAnY29yZG92YS5wbHVnaW5zLmxvY2F0aW9uTWFuYWdlcicsXG4gIHJlcG86ICdodHRwczovL2dpdGh1Yi5jb20vcGV0ZXJtZXR6L2NvcmRvdmEtcGx1Z2luLWliZWFjb24nLFxuICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXVxufSlcbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIElCZWFjb24gZXh0ZW5kcyBJb25pY05hdGl2ZVBsdWdpbiB7XG4gIC8qKlxuICAgKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgZGVsZWdhdGVzIGJldHdlZW4gdGhlIHtAbGluayBMb2NhdGlvbk1hbmFnZXJ9IGFuZFxuICAgKiB0aGUgY29kZSB0aGF0IGNvbnN1bWVzIHRoZSBtZXNzYWdlcyBnZW5lcmF0ZWQgb24gaW4gdGhlIG5hdGl2ZSBsYXllci5cbiAgICpcbiAgICogQHJldHVybnMge0lCZWFjb25EZWxlZ2F0ZX0gQW4gaW5zdGFuY2Ugb2YgdGhlIHR5cGUge0B0eXBlIERlbGVnYXRlfS5cbiAgICovXG4gIEBDb3Jkb3ZhQ2hlY2soeyBzeW5jOiB0cnVlIH0pXG4gIERlbGVnYXRlKCk6IElCZWFjb25EZWxlZ2F0ZSB7XG4gICAgY29uc3QgZGVsZWdhdGUgPSBuZXcgY29yZG92YS5wbHVnaW5zLmxvY2F0aW9uTWFuYWdlci5EZWxlZ2F0ZSgpO1xuXG4gICAgZGVsZWdhdGUuZGlkQ2hhbmdlQXV0aG9yaXphdGlvblN0YXR1cyA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oXG4gICAgICAgIChvYnNlcnZlcjogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcbiAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuZGlkQ2hhbmdlQXV0aG9yaXphdGlvblN0YXR1cyA9IGNiO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH07XG5cbiAgICBkZWxlZ2F0ZS5kaWREZXRlcm1pbmVTdGF0ZUZvclJlZ2lvbiA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oXG4gICAgICAgIChvYnNlcnZlcjogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcbiAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuZGlkRGV0ZXJtaW5lU3RhdGVGb3JSZWdpb24gPSBjYjtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgZGVsZWdhdGUuZGlkRW50ZXJSZWdpb24gPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KFxuICAgICAgICAob2JzZXJ2ZXI6IGFueSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XG4gICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLmRpZEVudGVyUmVnaW9uID0gY2I7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIGRlbGVnYXRlLmRpZEV4aXRSZWdpb24gPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KFxuICAgICAgICAob2JzZXJ2ZXI6IGFueSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XG4gICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLmRpZEV4aXRSZWdpb24gPSBjYjtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgZGVsZWdhdGUuZGlkUmFuZ2VCZWFjb25zSW5SZWdpb24gPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KFxuICAgICAgICAob2JzZXJ2ZXI6IGFueSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XG4gICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLmRpZFJhbmdlQmVhY29uc0luUmVnaW9uID0gY2I7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIGRlbGVnYXRlLmRpZFN0YXJ0TW9uaXRvcmluZ0ZvclJlZ2lvbiA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oXG4gICAgICAgIChvYnNlcnZlcjogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcbiAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuZGlkU3RhcnRNb25pdG9yaW5nRm9yUmVnaW9uID0gY2I7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIGRlbGVnYXRlLm1vbml0b3JpbmdEaWRGYWlsRm9yUmVnaW9uV2l0aEVycm9yID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PihcbiAgICAgICAgKG9ic2VydmVyOiBhbnkpID0+IHtcbiAgICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xuICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5tb25pdG9yaW5nRGlkRmFpbEZvclJlZ2lvbldpdGhFcnJvciA9IGNiO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH07XG5cbiAgICBkZWxlZ2F0ZS5wZXJpcGhlcmFsTWFuYWdlckRpZFN0YXJ0QWR2ZXJ0aXNpbmcgPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KFxuICAgICAgICAob2JzZXJ2ZXI6IGFueSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XG4gICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLnBlcmlwaGVyYWxNYW5hZ2VyRGlkU3RhcnRBZHZlcnRpc2luZyA9IGNiO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH07XG5cbiAgICBkZWxlZ2F0ZS5wZXJpcGhlcmFsTWFuYWdlckRpZFVwZGF0ZVN0YXRlID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PihcbiAgICAgICAgKG9ic2VydmVyOiBhbnkpID0+IHtcbiAgICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xuICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5wZXJpcGhlcmFsTWFuYWdlckRpZFVwZGF0ZVN0YXRlID0gY2I7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIGNvcmRvdmEucGx1Z2lucy5sb2NhdGlvbk1hbmFnZXIuc2V0RGVsZWdhdGUoZGVsZWdhdGUpO1xuICAgIHJldHVybiBkZWxlZ2F0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEJlYWNvblJlZ2lvblxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gaWRlbnRpZmllciBAc2VlIHtDTFJlZ2lvbn1cbiAgICogQHBhcmFtIHtTdHJpbmd9IHV1aWQgVGhlIHByb3hpbWl0eSBJRCBvZiB0aGUgYmVhY29uIGJlaW5nIHRhcmdldGVkLlxuICAgKiBUaGlzIHZhbHVlIG11c3Qgbm90IGJlIGJsYW5rIG5vciBpbnZhbGlkIGFzIGEgVVVJRC5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1ham9yIFRoZSBtYWpvciB2YWx1ZSB0aGF0IHlvdSB1c2UgdG8gaWRlbnRpZnkgb25lIG9yIG1vcmUgYmVhY29ucy5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1pbm9yIFRoZSBtaW5vciB2YWx1ZSB0aGF0IHlvdSB1c2UgdG8gaWRlbnRpZnkgYSBzcGVjaWZpYyBiZWFjb24uXG4gICAqIEBwYXJhbSB7Qk9PTH0gbm90aWZ5RW50cnlTdGF0ZU9uRGlzcGxheVxuICAgKlxuICAgKiBAcmV0dXJucyB7QmVhY29uUmVnaW9ufSBSZXR1cm5zIHRoZSBCZWFjb25SZWdpb24gdGhhdCB3YXMgY3JlYXRlZFxuICAgKi9cbiAgQENvcmRvdmFDaGVjayh7IHN5bmM6IHRydWUgfSlcbiAgQmVhY29uUmVnaW9uKFxuICAgIGlkZW50aWZlcjogc3RyaW5nLFxuICAgIHV1aWQ6IHN0cmluZyxcbiAgICBtYWpvcj86IG51bWJlcixcbiAgICBtaW5vcj86IG51bWJlcixcbiAgICBub3RpZnlFbnRyeVN0YXRlT25EaXNwbGF5PzogYm9vbGVhblxuICApOiBCZWFjb25SZWdpb24ge1xuICAgIHJldHVybiBuZXcgY29yZG92YS5wbHVnaW5zLmxvY2F0aW9uTWFuYWdlci5CZWFjb25SZWdpb24oXG4gICAgICBpZGVudGlmZXIsXG4gICAgICB1dWlkLFxuICAgICAgbWFqb3IsXG4gICAgICBtaW5vcixcbiAgICAgIG5vdGlmeUVudHJ5U3RhdGVPbkRpc3BsYXlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtJQmVhY29uRGVsZWdhdGV9IFJldHVybnMgdGhlIElCZWFjb25EZWxlZ2F0ZVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBnZXREZWxlZ2F0ZSgpOiBJQmVhY29uRGVsZWdhdGUge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0lCZWFjb25EZWxlZ2F0ZX0gZGVsZWdhdGUgQW4gaW5zdGFuY2Ugb2YgYSBkZWxlZ2F0ZSB0byByZWdpc3RlciB3aXRoIHRoZSBuYXRpdmUgbGF5ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIHtJQmVhY29uRGVsZWdhdGV9IFJldHVybnMgdGhlIElCZWFjb25EZWxlZ2F0ZVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXREZWxlZ2F0ZShkZWxlZ2F0ZTogSUJlYWNvbkRlbGVnYXRlKTogSUJlYWNvbkRlbGVnYXRlIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyB0aGUgbmF0aXZlIGxheWVyIHRoYXQgdGhlIGNsaWVudCBzaWRlIGlzIHJlYWR5IHRvIGNvbnN1bWUgbWVzc2FnZXMuXG4gICAqIFJlYWRpbmVzcyBoZXJlIG1lYW5zIHRoYXQgaXQgaGFzIGEge0lCZWFjb25EZWxlZ2F0ZX0gc2V0IGJ5IHRoZSBjb25zdW1lciBqYXZhc2NyaXB0XG4gICAqIGNvZGUuXG4gICAqXG4gICAqIFRoZSB7TG9jYXRpb25NYW5hZ2VyLnNldERlbGVnYXRlKCl9IHdpbGwgaW1wbGljaXRseSBjYWxsIHRoaXMgbWV0aG9kIGFzIHdlbGwsXG4gICAqIHRoZXJlZm9yZSB0aGUgb25seSBjYXNlIHdoZW4geW91IGhhdmUgdG8gY2FsbCB0aGlzIG1hbnVhbGx5IGlzIGlmIHlvdSBkb24ndFxuICAgKiB3aXNoIHRvIHNwZWNpZnkgYSB7SUJlYWNvbkRlbGVnYXRlfSBvZiB5b3Vycy5cbiAgICpcbiAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBzaWduYWxpbmcgbWVjaGFuaXNtIGlzIHRvIG1ha2UgdGhlIGV2ZW50cyB3b3JrIHdoZW4gdGhlXG4gICAqIGFwcCBpcyBiZWluZyB3b2tlbiB1cCBieSB0aGUgT3BlcmF0aW5nIFN5c3RlbSB0byBnaXZlIGl0IGEgY2hhbmNlIHRvIGhhbmRsZVxuICAgKiByZWdpb24gbW9uaXRvcmluZyBldmVudHMgZm9yIGV4YW1wbGUuXG4gICAqXG4gICAqIElmIHlvdSBkb24ndCBzZXQgYSB7SUJlYWNvbkRlbGVnYXRlfSBhbmQgZG9uJ3QgY2FsbCB0aGlzIG1ldGhvZCBtYW51YWxseSwgYW4gZXJyb3JcbiAgICogbWVzc2FnZSBnZXQgZW1pdHRlZCBpbiB0aGUgbmF0aXZlIHJ1bnRpbWUgYW5kIHRoZSBET00gYXMgd2VsbCBhZnRlciBhIGNlcnRhaW5cbiAgICogcGVyaW9kIG9mIHRpbWUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSByZXF1ZXN0IGFuZCBzdGFydGVkIHRvIHNlbmQgZXZlbnRzLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgb25Eb21EZWxlZ2F0ZVJlYWR5KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIGJsdWV0b290aCBpcyBzd2l0Y2hlZCBvbiwgYWNjb3JkaW5nIHRvIHRoZSBuYXRpdmUgbGF5ZXIuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIGEge0Jvb2xlYW59XG4gICAqIGluZGljYXRpbmcgd2hldGhlciBibHVldG9vdGggaXMgYWN0aXZlLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgaXNCbHVldG9vdGhFbmFibGVkKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIEJsdWV0b290aCB1c2luZyB0aGUgbmF0aXZlIExheWVyLiAoQU5EUk9JRCBPTkxZKVxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2hlbiBCbHVldG9vdGhcbiAgICogY291bGQgYmUgZW5hYmxlZC4gSWYgbm90LCB0aGUgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGggYW4gZXJyb3IuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBlbmFibGVCbHVldG9vdGgoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGVzIEJsdWV0b290aCB1c2luZyB0aGUgbmF0aXZlIExheWVyLiAoQU5EUk9JRCBPTkxZKVxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2hlbiBCbHVldG9vdGhcbiAgICogY291bGQgYmUgZW5hYmxlZC4gSWYgbm90LCB0aGUgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGggYW4gZXJyb3IuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBkaXNhYmxlQmx1ZXRvb3RoKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBtb25pdG9yaW5nIHRoZSBzcGVjaWZpZWQgcmVnaW9uLlxuICAgKlxuICAgKiBJZiBhIHJlZ2lvbiBvZiB0aGUgc2FtZSB0eXBlIHdpdGggdGhlIHNhbWUgaWRlbnRpZmllciBpcyBhbHJlYWR5IGJlaW5nXG4gICAqIG1vbml0b3JlZCBmb3IgdGhpcyBhcHBsaWNhdGlvbixcbiAgICogaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gbW9uaXRvcmluZy4gRm9yIGNpcmN1bGFyIHJlZ2lvbnMsIHRoZSByZWdpb25cbiAgICogbW9uaXRvcmluZyBzZXJ2aWNlIHdpbGwgcHJpb3JpdGl6ZVxuICAgKiByZWdpb25zIGJ5IHRoZWlyIHNpemUsIGZhdm9yaW5nIHNtYWxsZXIgcmVnaW9ucyBvdmVyIGxhcmdlciByZWdpb25zLlxuICAgKlxuICAgKiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHkgYW5kIG1heSBub3QgYmUgaW1tZWRpYXRlbHkgcmVmbGVjdGVkIGluIG1vbml0b3JlZFJlZ2lvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge1JlZ2lvbn0gd2hpY2ggd2lsbCBiZSBtb25pdG9yZWRcbiAgICogYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0uXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSBtb25pdG9yaW5nIHJlcXVlc3QuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBzdGFydE1vbml0b3JpbmdGb3JSZWdpb24ocmVnaW9uOiBSZWdpb24pOiBQcm9taXNlPHN0cmluZz4geyByZXR1cm47IH1cblxuICAvKipcbiAgICogU3RvcCBtb25pdG9yaW5nIHRoZSBzcGVjaWZpZWQgcmVnaW9uLiAgSXQgaXMgdmFsaWQgdG8gY2FsbFxuICAgKiBzdG9wTW9uaXRvcmluZ0ZvclJlZ2lvbjogZm9yIGEgcmVnaW9uIHRoYXQgd2FzIHJlZ2lzdGVyZWQgZm9yIG1vbml0b3JpbmdcbiAgICogd2l0aCBhIGRpZmZlcmVudCBsb2NhdGlvbiBtYW5hZ2VyIG9iamVjdCwgZHVyaW5nIHRoaXMgb3IgcHJldmlvdXNcbiAgICogbGF1bmNoZXMgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5IGFuZCBtYXkgbm90IGJlIGltbWVkaWF0ZWx5IHJlZmxlY3RlZCBpbiBtb25pdG9yZWRSZWdpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ2lvbn0gcmVnaW9uIEFuIGluc3RhbmNlIG9mIHtSZWdpb259IHdoaWNoIHdpbGwgYmUgbW9uaXRvcmVkXG4gICAqIGJ5IHRoZSBvcGVyYXRpbmcgc3lzdGVtLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcbiAgICogbmF0aXZlIGxheWVyIGFja25vd2xlZGdlZCB0aGUgZGlzcGF0Y2ggb2YgdGhlIHJlcXVlc3QgdG8gc3RvcCBtb25pdG9yaW5nLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgc3RvcE1vbml0b3JpbmdGb3JSZWdpb24ocmVnaW9uOiBSZWdpb24pOiBQcm9taXNlPHZvaWQ+IHsgcmV0dXJuOyB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3Qgc3RhdGUgdGhlIGZvciBzcGVjaWZpZWQgcmVnaW9uLiBXaGVuIHJlc3VsdCBpcyByZWFkeVxuICAgKiBkaWREZXRlcm1pbmVTdGF0ZUZvclJlZ2lvbiBpcyB0cmlnZ2VyZWQuIFRoaXMgY2FuIGJlIGFueSByZWdpb24sXG4gICAqIGFsc28gdGhvc2Ugd2hpY2ggaXMgbm90IGN1cnJlbnRseSBtb25pdG9yZWQuXG4gICAqXG4gICAqIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseSBhbmQgbWF5IG5vdCBiZSBpbW1lZGlhdGVseSByZWZsZWN0ZWQgaW4gbW9uaXRvcmVkUmVnaW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtSZWdpb259IHJlZ2lvbiBBbiBpbnN0YW5jZSBvZiB7UmVnaW9ufSB3aGljaCB3aWxsIGJlIG1vbml0b3JlZFxuICAgKiBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbS5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSByZXF1ZXN0IHRvIHN0b3AgbW9uaXRvcmluZy5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIHJlcXVlc3RTdGF0ZUZvclJlZ2lvbihyZWdpb246IFJlZ2lvbik6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCByYW5naW5nIHRoZSBzcGVjaWZpZWQgYmVhY29uIHJlZ2lvbi5cbiAgICpcbiAgICogSWYgYSByZWdpb24gb2YgdGhlIHNhbWUgdHlwZSB3aXRoIHRoZSBzYW1lIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBiZWluZ1xuICAgKiBtb25pdG9yZWQgZm9yIHRoaXMgYXBwbGljYXRpb24sIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIG1vbml0b3JpbmcuXG4gICAqXG4gICAqIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseSBhbmQgbWF5IG5vdCBiZSBpbW1lZGlhdGVseSByZWZsZWN0ZWQgaW4gcmFuZ2VkUmVnaW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtSZWdpb259IHJlZ2lvbiBBbiBpbnN0YW5jZSBvZiB7QmVhY29uUmVnaW9ufSB3aGljaCB3aWxsIGJlIG1vbml0b3JlZFxuICAgKiBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbS5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSBtb25pdG9yaW5nIHJlcXVlc3QuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBzdGFydFJhbmdpbmdCZWFjb25zSW5SZWdpb24ocmVnaW9uOiBSZWdpb24pOiBQcm9taXNlPHZvaWQ+IHsgcmV0dXJuOyB9XG5cbiAgLyoqXG4gICAqIFN0b3AgcmFuZ2luZyB0aGUgc3BlY2lmaWVkIHJlZ2lvbi4gIEl0IGlzIHZhbGlkIHRvIGNhbGxcbiAgICogc3RvcE1vbml0b3JpbmdGb3JSZWdpb246IGZvciBhIHJlZ2lvbiB0aGF0IHdhcyByZWdpc3RlcmVkIGZvciByYW5naW5nXG4gICAqIHdpdGggYSBkaWZmZXJlbnQgbG9jYXRpb24gbWFuYWdlciBvYmplY3QsIGR1cmluZyB0aGlzIG9yIHByZXZpb3VzXG4gICAqIGxhdW5jaGVzIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gICAqXG4gICAqIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseSBhbmQgbWF5IG5vdCBiZSBpbW1lZGlhdGVseSByZWZsZWN0ZWQgaW4gcmFuZ2VkUmVnaW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtSZWdpb259IHJlZ2lvbiBBbiBpbnN0YW5jZSBvZiB7QmVhY29uUmVnaW9ufSB3aGljaCB3aWxsIGJlIG1vbml0b3JlZFxuICAgKiBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbS5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSByZXF1ZXN0IHRvIHN0b3AgbW9uaXRvcmluZy5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIHN0b3BSYW5naW5nQmVhY29uc0luUmVnaW9uKHJlZ2lvbjogUmVnaW9uKTogUHJvbWlzZTx2b2lkPiB7IHJldHVybjsgfVxuXG4gIC8qKlxuICAgKiBRdWVyaWVzIHRoZSBuYXRpdmUgbGF5ZXIgdG8gZGV0ZXJtaW5lIHRoZSBjdXJyZW50IGF1dGhvcml6YXRpb24gaW4gZWZmZWN0LlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCB0aGVcbiAgICogcmVxdWVzdGVkIGF1dGhvcml6YXRpb24gc3RhdHVzLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgZ2V0QXV0aG9yaXphdGlvblN0YXR1cygpOiBQcm9taXNlPElCZWFjb25QbHVnaW5SZXN1bHQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRm9yIGlPUyA4IGFuZCBhYm92ZSBvbmx5LiBUaGUgcGVybWlzc2lvbiBtb2RlbCBoYXMgY2hhbmdlZCBieSBBcHBsZSBpbiBpT1MgOCwgbWFraW5nIGl0IG5lY2Vzc2FyeSBmb3IgYXBwcyB0b1xuICAgKiBleHBsaWNpdGx5IHJlcXVlc3QgcGVybWlzc2lvbnMgdmlhIG1ldGhvZHMgbGlrZSB0aGVzZTpcbiAgICogPGEgaHJlZj1cImh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L3ByZXJlbGVhc2UvaU9TL2RvY3VtZW50YXRpb24vQ29yZUxvY2F0aW9uL1JlZmVyZW5jZS9DTExvY2F0aW9uTWFuYWdlcl9DbGFzcy9pbmRleC5odG1sIy8vYXBwbGVfcmVmL29jYy9pbnN0bS9DTExvY2F0aW9uTWFuYWdlci9yZXF1ZXN0V2hlbkluVXNlQXV0aG9yaXphdGlvblwiPnJlcXVlc3RXaGVuSW5Vc2VBdXRob3JpemF0aW9uPC9hPlxuICAgKiA8YSBocmVmPVwiaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvcHJlcmVsZWFzZS9pT1MvZG9jdW1lbnRhdGlvbi9Db3JlTG9jYXRpb24vUmVmZXJlbmNlL0NMTG9jYXRpb25NYW5hZ2VyX0NsYXNzL2luZGV4Lmh0bWwjLy9hcHBsZV9yZWYvb2NjL2luc3RtL0NMTG9jYXRpb25NYW5hZ2VyL3JlcXVlc3RBbHdheXNBdXRob3JpemF0aW9uXCI+cmVxdWVzdEFsd2F5c0F1dGhvcml6YXRpb248L2E+XG4gICAqXG4gICAqIElmIHlvdSBhcmUgdXNpbmcgdGhpcyBwbHVnaW4gb24gQW5kcm9pZCBkZXZpY2VzIG9ubHksIHlvdSB3aWxsIG5ldmVyIGhhdmUgdG8gdXNlIHRoaXMsIG5vciB7QGNvZGUgcmVxdWVzdEFsd2F5c0F1dGhvcml6YXRpb259XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHJlcXVlc3QgZGlhbG9nIGlzIHNob3duLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgcmVxdWVzdFdoZW5JblVzZUF1dGhvcml6YXRpb24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlZSB0aGUgZG9jdW1lbnRhdGlvbiBvZiB7QGNvZGUgcmVxdWVzdFdoZW5JblVzZUF1dGhvcml6YXRpb259IGZvciBmdXJ0aGVyIGRldGFpbHMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aGVuIHRoZSBuYXRpdmUgbGF5ZXJcbiAgICogc2hvd3MgdGhlIHJlcXVlc3QgZGlhbG9nLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgcmVxdWVzdEFsd2F5c0F1dGhvcml6YXRpb24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFJlZ2lvbltdPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhbiB7QXJyYXl9XG4gICAqIG9mIHtSZWdpb259IGluc3RhbmNlcyB0aGF0IGFyZSBiZWluZyBtb25pdG9yZWQgYnkgdGhlIG5hdGl2ZSBsYXllci5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIGdldE1vbml0b3JlZFJlZ2lvbnMoKTogUHJvbWlzZTxSZWdpb25bXT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxSZWdpb25bXT59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdpdGggYW4ge0FycmF5fVxuICAgKiBvZiB7UmVnaW9ufSBpbnN0YW5jZXMgdGhhdCBhcmUgYmVpbmcgcmFuZ2VkIGJ5IHRoZSBuYXRpdmUgbGF5ZXIuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBnZXRSYW5nZWRSZWdpb25zKCk6IFByb21pc2U8UmVnaW9uW10+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiByYW5naW5nIGlzIGF2YWlsYWJsZSBvciBub3QsIGFjY29yZGluZyB0byB0aGUgbmF0aXZlIGxheWVyLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhIHtCb29sZWFufVxuICAgKiBpbmRpY2F0aW5nIHdoZXRoZXIgcmFuZ2luZyBpcyBhdmFpbGFibGUgb3Igbm90LlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgaXNSYW5naW5nQXZhaWxhYmxlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHJlZ2lvbiB0eXBlIGlzIHN1cHBvcnRlZCBvciBub3QsIGFjY29yZGluZyB0byB0aGUgbmF0aXZlIGxheWVyLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ2lvbn0gcmVnaW9uIEFuIGluc3RhbmNlIG9mIHtSZWdpb259IHdoaWNoIHdpbGwgYmUgY2hlY2tlZFxuICAgKiBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbS5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdpdGggYSB7Qm9vbGVhbn1cbiAgICogaW5kaWNhdGluZyB3aGV0aGVyIHRoZSByZWdpb24gdHlwZSBpcyBzdXBwb3J0ZWQgb3Igbm90LlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgaXNNb25pdG9yaW5nQXZhaWxhYmxlRm9yQ2xhc3MocmVnaW9uOiBSZWdpb24pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgYWR2ZXJ0aXNpbmcgdGhlIHNwZWNpZmllZCByZWdpb24uXG4gICAqXG4gICAqIElmIGEgcmVnaW9uIGEgZGlmZmVyZW50IGlkZW50aWZpZXIgaXMgYWxyZWFkeSBiZWluZyBhZHZlcnRpc2VkIGZvclxuICAgKiB0aGlzIGFwcGxpY2F0aW9uLCBpdCB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIG5ldyBpZGVudGlmaWVyLlxuICAgKlxuICAgKiBUaGlzIGNhbGwgd2lsbCBhY2NlcHQgYSB2YWxpZCBiZWFjb24gZXZlbiB3aGVuIG5vIEJsdWVUb290aCBpcyBhdmFpbGFibGUsXG4gICAqIGFuZCB3aWxsIHN0YXJ0IHdoZW4gQmx1ZVRvb3RoIGlzIHBvd2VyZWQgb24uIFNlZSB7SUJlYWNvbkRlbGVnYXRlLn1cbiAgICpcbiAgICogQHBhcmFtIHtSZWdpb259IHJlZ2lvbiBBbiBpbnN0YW5jZSBvZiB7UmVnaW9ufSB3aGljaCB3aWxsIGJlIGFkdmVydGlzZWRcbiAgICogYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0uXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0gbWVhc3VyZWRQb3dlcjogT3B0aW9uYWwgcGFyYW1ldGVyLCBpZiBsZWZ0IGVtcHR5LCB0aGUgZGV2aWNlIHdpbGxcbiAgICogdXNlIGl0J3Mgb3duIGRlZmF1bHQgdmFsdWUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSBkaXNwYXRjaCBvZiB0aGUgYWR2ZXJ0aXNpbmcgcmVxdWVzdC5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIHN0YXJ0QWR2ZXJ0aXNpbmcocmVnaW9uOiBSZWdpb24sIG1lYXN1cmVkUG93ZXI/OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU3RvcCBhZHZlcnRpc2luZyBhcyBhIGJlYWNvbi5cbiAgICpcbiAgICogVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5IGFuZCBtYXkgbm90IGJlIGltbWVkaWF0ZWx5IHJlZmxlY3RlZCBpbiBpc0FkdmVydGlzaW5nLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcbiAgICogbmF0aXZlIGxheWVyIGFja25vd2xlZGdlZCB0aGUgZGlzcGF0Y2ggb2YgdGhlIHJlcXVlc3QgdG8gc3RvcCBhZHZlcnRpc2luZy5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIHN0b3BBZHZlcnRpc2luZyhyZWdpb246IFJlZ2lvbik6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIGFkdmVydGlzaW5nIGlzIGF2YWlsYWJsZSBvciBub3QsIGFjY29yZGluZyB0byB0aGUgbmF0aXZlIGxheWVyLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhIHtCb29sZWFufVxuICAgKiBpbmRpY2F0aW5nIHdoZXRoZXIgYWR2ZXJ0aXNpbmcgaXMgYXZhaWxhYmxlIG9yIG5vdC5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIGlzQWR2ZXJ0aXNpbmdBdmFpbGFibGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgYWR2ZXJ0aXNpbmcgaXMgY3VycmVudGx5IGFjdGl2ZSwgYWNjb3JkaW5nIHRvIHRoZSBuYXRpdmUgbGF5ZXIuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIGEge0Jvb2xlYW59XG4gICAqIGluZGljYXRpbmcgd2hldGhlciBhZHZlcnRpc2luZyBpcyBhY3RpdmUuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBpc0FkdmVydGlzaW5nKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlcyBkZWJ1ZyBsb2dnaW5nIGluIHRoZSBuYXRpdmUgbGF5ZXIuIFVzZSB0aGlzIG1ldGhvZCBpZiB5b3Ugd2FudFxuICAgKiB0byBwcmV2ZW50IHRoaXMgcGx1Z2luIGZyb20gd3JpdGluZyB0byB0aGUgZGV2aWNlIGxvZ3MuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxuICAgKiBuYXRpdmUgbGF5ZXIgaGFzIHNldCB0aGUgbG9nZ2luZyBsZXZlbCBhY2NvcmRpbmdseS5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIGRpc2FibGVEZWJ1Z0xvZ3MoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgdGhlIHBvc3Rpbmcgb2YgZGVidWcgbm90aWZpY2F0aW9ucyBpbiB0aGUgbmF0aXZlIGxheWVyLiBVc2UgdGhpcyBtZXRob2QgaWYgeW91IHdhbnRcbiAgICogdG8gYWxsb3cgdGhlIHBsdWdpbiB0aGUgcG9zdGluZyBsb2NhbCBub3RpZmljYXRpb25zLlxuICAgKiBUaGlzIGNhbiBiZSB2ZXJ5IGhlbHBmdWwgd2hlbiBkZWJ1Z2dpbmcgaG93IHRvIGFwcHMgYmVoYXZlIHdoZW4gbGF1bmNoZWQgaW50byB0aGUgYmFja2dyb3VuZC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXG4gICAqIG5hdGl2ZSBsYXllciBoYXMgc2V0IHRoZSBmbGFnIHRvIGVuYWJsZWQuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBlbmFibGVEZWJ1Z05vdGlmaWNhdGlvbnMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGVzIHRoZSBwb3N0aW5nIG9mIGRlYnVnIG5vdGlmaWNhdGlvbnMgaW4gdGhlIG5hdGl2ZSBsYXllci4gVXNlIHRoaXMgbWV0aG9kIGlmIHlvdSB3YW50XG4gICAqIHRvIHByZXZlbnQgdGhlIHBsdWdpbiBmcm9tIHBvc3RpbmcgbG9jYWwgbm90aWZpY2F0aW9ucy5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXG4gICAqIG5hdGl2ZSBsYXllciBoYXMgc2V0IHRoZSBmbGFnIHRvIGRpc2FibGVkLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgZGlzYWJsZURlYnVnTm90aWZpY2F0aW9ucygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlcyBkZWJ1ZyBsb2dnaW5nIGluIHRoZSBuYXRpdmUgbGF5ZXIuIFVzZSB0aGlzIG1ldGhvZCBpZiB5b3Ugd2FudFxuICAgKiBhIGRlYnVnIHRoZSBpbm5lciB3b3JraW5ncyBvZiB0aGlzIHBsdWdpbi5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXG4gICAqIG5hdGl2ZSBsYXllciBoYXMgc2V0IHRoZSBsb2dnaW5nIGxldmVsIGFjY29yZGluZ2x5LlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgZW5hYmxlRGVidWdMb2dzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoZSBwcm92aWRlZCBbbWVzc2FnZV0gdG8gdGhlIGRldmljZSBsb2dzLlxuICAgKiBOb3RlOiBJZiBkZWJ1ZyBsb2dnaW5nIGlzIHR1cm5lZCBvZmYsIHRoaXMgd29uJ3QgZG8gYW55dGhpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGFwcGVuZCB0byB0aGUgZGV2aWNlIGxvZ3MuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIHRoZSBsb2dcbiAgICogbWVzc2FnZSByZWNlaXZlZCBieSB0aGUgbmF0aXZlIGxheWVyIGZvciBhcHBlbmRpbmcuIFRoZSByZXR1cm5lZCBtZXNzYWdlXG4gICAqIGlzIGV4cGVjdGVkIHRvIGJlIGVxdWl2YWxlbnQgdG8gdGhlIG9uZSBwcm92aWRlZCBpbiB0aGUgb3JpZ2luYWwgY2FsbC5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIGFwcGVuZFRvRGV2aWNlTG9nKG1lc3NhZ2U6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxufVxuIl19